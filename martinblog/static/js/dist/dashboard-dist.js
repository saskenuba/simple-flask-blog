"use strict";function workingSubMenu(e,t,n,d){var o=getElementbyTagNameWithDataAttributeAll(t,n,d),s=getElementbyTagNameWithDataAttributeAll(e,n,d);s.matches.forEach(function(e){return e.classList.add("active")}),s.unmatched.forEach(function(e){return e.classList.remove("active")}),o.matches.forEach(function(e){return e.classList.add("on")}),o.unmatched.forEach(function(e){return e.classList.remove("on")})}function workingMainMenu(e){var t=getElementbyTagNameWithDataAttributeAll("div","dashboardsection",e.target.dataset.dashboardsection),n=getElementbyTagNameWithDataAttributeAll("a","dashboardsection",e.target.dataset.dashboardsection);n.matches.forEach(function(e){return e.classList.add("active")}),n.unmatched.forEach(function(e){return e.classList.remove("active")}),t.matches.forEach(function(e){return e.classList.remove("off")}),t.unmatched.forEach(function(e){return e.classList.add("off")})}function appendMessage(e,t,n,d){e.href=n,e.textContent="Permalink para o post: "+n,d.classList.add("disabled"),toggleClasses(t,"on","off","animated","fadeIn")}var editor_add=CKEDITOR.replace("post-content-add"),editor_edit=CKEDITOR.replace("post-content-edit"),editor_portfolio_add=CKEDITOR.replace("add"),editor_portfolio_edit=CKEDITOR.replace("edit");CKEDITOR.config.allowedContent=!0,CKEDITOR.stylesSet.add("Martinblog",[{name:"Block",element:"pre code"},{name:"Inline",element:"code"},{name:"Four Columns",element:"div",attributes:{class:"four wide column"}},{name:"Five Columns",element:"div",attributes:{class:"five wide column"}},{name:"Six Columns",element:"div",attributes:{class:"six wide column"}},{name:"Seven Columns",element:"div",attributes:{class:"seven wide column"}},{name:"Eight Columns",element:"div",attributes:{class:"eight wide column"}},{name:"Nine Columns",element:"div",attributes:{class:"nine wide column"}},{name:"Ten Columns",element:"div",attributes:{class:"ten wide column"}},{name:"Eleven Columns",element:"div",attributes:{class:"eleven wide column"}},{name:"Twelve Columns",element:"div",attributes:{class:"twelve wide column"}},{name:"Thirteen Columns",element:"div",attributes:{class:"thirteen wide column"}},{name:"Fourteen Columns",element:"div",attributes:{class:"fourteen wide column"}},{name:"Fifteen Columns",element:"div",attributes:{class:"fifteen wide column"}},{name:"Sixteen Columns",element:"div",attributes:{class:"sixteen wide column"}}]),CKEDITOR.config.stylesSet="Martinblog",window.addEventListener("load",function(){document.getElementById("dashboardMainMenu").addEventListener("click",function(e){workingMainMenu(e)});var e=document.getElementById("dashboardPostMenu"),t=document.getElementById("dashboardPortfolioMenu");document.getElementById("dashboardUserMenu");e.addEventListener("click",function(e){workingSubMenu("a","div","posts",e.target.dataset.posts)}),t.addEventListener("click",function(e){workingSubMenu("a","div","portfolio",e.target.dataset.portfolio)});var n=new PortfolioItem(document.getElementById("portfolio-add"),editor_portfolio_add);n.httpMethod="POST",n.messageElement=document.getElementById("portfolio-add-message-success"),document.getElementById("portfolio-add-buttons").addEventListener("click",n.pageHandler),document.getElementById("portfolio-add-submit").addEventListener("click",function(e){n.submitHandler(e)});var d=new PortfolioItem(document.getElementById("portfolio-edit"),editor_portfolio_edit);d.httpMethod="PUT",d.messageElement=document.getElementById("portfolio-edit-message-success"),$("#select-edit").dropdown({onChange:function(e,t,n){d.retrieve(e)}}),document.getElementById("portfolio-edit-buttons").addEventListener("click",d.pageHandler),document.getElementById("portfolio-edit-submit").addEventListener("click",function(e){d.submitHandler(e)});var o=new PortfolioItem(document.getElementById("portfolio-del"));o.httpMethod="DELETE",o.messageElement=document.getElementById("portfolio-del-message-success"),$("#select-del").dropdown({onChange:function(e,t,n){o.retrieve(e)}}),document.getElementById("portfolio-del-submit").addEventListener("click",function(e){o.submitHandler(e)})});var titleAddPost=document.getElementById("post-title-add"),contentAddPost=document.getElementById("post-content-add"),imageAddPost=document.getElementById("post-image-add"),tagsAddPost=document.getElementById("post-tags-add"),addForm=document.getElementById("form-add");addForm.addEventListener("submit",function(e){e.preventDefault();var t=new Post(titleAddPost.value,imageAddPost.value,editor_add.getData(),tagsAddPost.value);t.httpMethod="POST",t.settings.body=t.json;var d=document.getElementById("form-add-message-success");t.send("addPost").then(function(e){return 201==e.status?e.json():"perdeu playba"}).then(function(e){var t=document.getElementById("post-submitbutton-add"),n=document.getElementById("add-success");appendMessage(d,n,e.link,t)})},!1);var idEditPost=document.getElementById("post-id-edit"),titleEditPost=document.getElementById("post-title-edit"),contentEditPost=document.getElementById("post-content-edit"),imageEditPost=document.getElementById("post-image-edit"),tagsEditPost=document.getElementById("post-tags-edit"),editForm=document.getElementById("form-edit");idEditPost.addEventListener("input",function(e){postGetJson(e.target.value).then(function(e){titleEditPost.value=e.title,imageEditPost.value=e.imagelink,tagsEditPost.value=e.tags,editor_edit.setData(e.content)})}),editForm.addEventListener("submit",function(e){e.preventDefault();var t=new Post(titleEditPost.value,imageEditPost.value,editor_edit.getData(),tagsEditPost.value);t.httpMethod="PUT",t.settings.body=t.json;var d=document.getElementById("form-edit-message-success");sendJsonWithObj("editPost",{postid:idEditPost.value},t.settings).then(function(e){return 202==e.status?e.json():console.log("perdeu playba")}).then(function(e){var t=document.getElementById("post-submitbutton-edit"),n=document.getElementById("edit-success");appendMessage(d,n,e.link,t)})},!1);var idDelPost=document.getElementById("post-id-del"),titleDelPost=document.getElementById("post-title-del");idDelPost.addEventListener("input",function(e){postGetJson(e.target.value).then(function(e){titleDelPost.value=e.title})});var delForm=document.getElementById("form-del");delForm.addEventListener("submit",function(e){e.preventDefault();document.getElementById("form-del-message-success");sendJsonWithObj("deletePost",{postid:idDelPost.value},{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then(function(e){return 200==e.status?e.json():"perdeu playba"}).then(function(e){document.getElementById("post-submitbutton-del").classList.add("disabled");var t=document.getElementById("del-success");toggleClasses(t,"on","off","animated","fadeIn")})},!1);
//# sourceMappingURL=dashboard-dist.js.map