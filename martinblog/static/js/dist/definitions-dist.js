"use strict";var __extends=function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Form=function(){function t(){this.settings={method:void 0,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:void 0}}return Object.defineProperty(t.prototype,"httpMethod",{get:function(){return this.settings.method},set:function(t){this.settings.method=t},enumerable:!0,configurable:!0}),t}(),PortfolioItem=function(i){function t(t,e){var n=i.call(this)||this;return n.id=void 0,n.title=null,n.description=null,n.imagelink=null,n.pages={},n.currentPage=1,n.parentElement=void 0,n.messageElement=void 0,n.editor=void 0,n.pageHandler=function(t){var e=t.target.dataset.button;t.target;n.saveContent(n.editor.getData()),n.page=e,n.editor.setData(n.pageContent)},n.submitHandler=function(t){t.preventDefault();var e=t.target;"DELETE"!=n.httpMethod&&(n.saveAllAttributes(),n.toJson()),n.send().then(function(t){201!=t.status&&204!=t.status||(toggleClasses(e,"disabled"),console.log(n.messageElement),toggleClasses(n.messageElement,"on","off","animated","fadeIn"))})},n.toJson=function(){n.settings.body=JSON.stringify({title:n.title,description:n.description,imagelink:n.imagelink,pages:n.pages})},n.retrieve=function(t){getPortfolioItem(t).then(function(t){n.id=t.id,n.title=t.title,n.description=t.description,n.imagelink=t.imagelink,n.pages=t.content,console.log(n.pages),n.saveToParent()})},n.parentElement=t,n.editor=e,n}return __extends(t,i),t.prototype.saveAllAttributes=function(){this.title=this.parentElement.querySelector('input[name="title"]').value,this.description=this.parentElement.querySelector('input[name="description"]').value,this.imagelink=this.parentElement.querySelector('input[name="imageUrl"]').value,this.saveContent(this.editor.getData())},t.prototype.saveToParent=function(){this.parentElement.querySelector('input[name="title"]').value=this.title,this.parentElement.querySelector('input[name="description"]').value=this.description,this.parentElement.querySelector('input[name="imageUrl"]').value=this.imagelink,this.editor.setData(this.pages[this.currentPage])},t.prototype.send=function(){return"PUT"==this.httpMethod||"DELETE"==this.httpMethod?sendJsonWithObj("API_portfolio",{itemID:this.id},this.settings):sendJson("API_portfolio",this.settings)},Object.defineProperty(t.prototype,"pageContent",{get:function(){return this.pages[this.currentPage]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{set:function(t){this.currentPage=t},enumerable:!0,configurable:!0}),t.prototype.saveContent=function(t){0<t.length&&(this.pages[""+this.currentPage]=t)},t}(Form),Post=function(r){function t(t,e,n,i){var o=r.call(this)||this;return o.title=t,o.imagelink=e,o.content=n,o.tags=i,o}return __extends(t,r),Object.defineProperty(t.prototype,"json",{get:function(){return JSON.stringify({title:this.title,imagelink:this.imagelink,content:this.content,tags:this.tags})},enumerable:!0,configurable:!0}),t.prototype.send=function(t){return sendJson(t,this.settings)},t}(Form);
//# sourceMappingURL=definitions-dist.js.map